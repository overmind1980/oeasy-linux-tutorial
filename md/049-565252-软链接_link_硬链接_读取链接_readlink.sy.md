---
show: step
version: 1.0
enable_checker: true
---

# è½¯è¿æ¥ln

## å›å¿†

- ä¸Šæ¬¡æˆ‘ä»¬å­¦ä¹ äº†cpå‘½ä»¤
- cpæœ‰ä¸¤ä¸ªå…³é”®å› ç´ 
	- æº
	- ç›®æ ‡
- æºå’Œç›®æ ‡éƒ½å¯ä»¥ç”¨ç»å¯¹è·¯å¾„å’Œå¯ä»¥ç”¨ç›¸å¯¹è·¯å¾„
	- ç»å¯¹è·¯å¾„
		- æ¸…æ™°
		- ä½†ä¸€èˆ¬æ¯”è¾ƒé•¿
	- ç›¸å¯¹è·¯å¾„
		- è¾ƒçŸ­
		- ä½†å¤´è„‘ä¸€å®šè¦æ¸…æ™°
- cp è¿˜æœ‰ä¸€äº›å‚æ•°
	- -r é€’å½’
	- -f å¼ºåˆ¶
	- -i äº¤äº’
	- -l åªç”Ÿæˆé“¾æ¥
- è¿™ä¸ªé“¾æ¥æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ

### ä¾‹å­

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663135201101)

- /usr/bin/python æ˜¯ä¸€ä¸ªé“¾æ¥
	- æ˜¯ä¸€ä¸ªæŒ‡å‘/usr/bin/python2.7çš„é“¾æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663135225246)

- è¿è¡Œpython
- å°±æ˜¯è¿è¡Œ/usr/bin/python3
- é‚£ä»€ä¹ˆæ˜¯ä¸€ä¸ªé“¾æ¥å‘¢ï¼Ÿ

### é“¾æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663135971983)

- é“¾æ¥å’Œinodeæœ‰å…³
- è¿™ä¸ªå•è¯å¥½åƒåœ¨lsä¸­è§è¿‡

### æŸ¥çœ‹inode

```
man ls
```

- æŸ¥çœ‹lså¸®åŠ©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663135368815)

- ls -i 
	- å¯ä»¥æŸ¥è¯¢åˆ°æ–‡ä»¶çš„inode
	- inodeå°±æ˜¯index node
	- ç´¢å¼•èŠ‚ç‚¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663135820024)

- è¿™ä¸¤ä¸ªä¸œè¥¿çš„inodeä¸åŒ
- æˆ‘å¯ä»¥è‡ªå·±å»ºç«‹è½¯ç¡¬çš„é“¾æ¥å—ï¼Ÿ

### æŸ¥è¯¢æ–‡æ¡£

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663136426053)

- çµé­‚ä¸‰é—®ä¹‹å
- æŸ¥çœ‹æ–‡æ¡£æ‰‹å†Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663136387810)

### åŠ¨æ‰‹è¯•è¯•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663136578600)

- å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å»ºç«‹äº†ä¸€ä¸ªç¡¬é“¾æ¥
- è¿™ä¸¤ä¸ªæ–‡ä»¶æ‰€æŒ‡å‘çš„ç´¢å¼•èŠ‚ç‚¹(inode)ä¸€æ ·
- é‚£ä¹ˆå¦‚ä½•å»ºç«‹ä¸€ä¸ªè½¯é“¾æ¥å‘¢

### æŸ¥è¯¢æ–‡æ¡£

- å‚æ•°ä¸º-s

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663136713582)

- è½¯é“¾æ¥ä¹Ÿå«ç¬¦å·é“¾æ¥
- symbolic link

### è½¯é“¾æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663136825827)

- å¯ä»¥çœ‹åˆ°è½¯é“¾æ¥å°±æ˜¯ç®­å¤´çš„é‚£ç§å½¢å¼
- pythonæ˜¯python2.7çš„è½¯é“¾æ¥
- è€Œä¸”è½¯é“¾æ¥ä½¿ç”¨çš„inodeä¸åŒ
- é‚£åˆ é™¤æ–‡ä»¶ä¼šå¦‚ä½•å‘¢ï¼Ÿ

### åˆ é™¤é“¾æ¥

- åˆ†åˆ«åˆ é™¤ç¡¬é“¾æ¥å’Œè½¯é“¾æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663137559200)

- å°±åƒä¸€èˆ¬åˆ é™¤æ–‡ä»¶ä¸€æ ·
- æ²¡æœ‰åŒºåˆ«
- åˆ é™¤è¢«é“¾æ¥æ–‡ä»¶ä¼šå¦‚ä½•å‘¢

### åˆ é™¤è¢«é“¾æ¥çš„æ–‡ä»¶

- å°†æºåˆ é™¤

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663137635548)

- ç¡¬é“¾æ¥è¿˜åœ¨è¿˜èƒ½ç”¨
- è½¯é“¾æ¥å·²ç»ä¸èƒ½ç”¨äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663137683556)

- æ‰¾ä¸åˆ°äº†
- å±‚å±‚å å çš„é“¾æ¥
- å¦‚ä½•ä¸€ä¸‹å­æ‰¾åˆ°æºå‘¢ï¼Ÿ

### readlink

- è¯»å–é“¾æ¥çš„æº
	- readlink
- è¯»å–é“¾æ¥çš„æ ¹æº
	- readlink -f

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221231-1672492321832)

- è¿™ä¸ªå‘½ä»¤å’Œrealpathå¾ˆåƒå•Š

### readlink å’Œ realpath

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221231-1672493436331)

- è¿™ä¸¤ä¸ªå¸®åŠ©å¾ˆåƒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221231-1672493451288)

- å¯ä»¥ç›´æ¥æ‹·è´æ ¹æºå—ï¼Ÿ

### æŸ¥è¯¢æ–‡æ¡£

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221231-1672493314825)

- é‚£ä¹ˆæˆ‘ä»¬cp -l ç”Ÿæˆçš„æ˜¯ä»€ä¹ˆé“¾æ¥å‘¢ï¼Ÿ

### cp -l

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221119-1668821764480)

- çœ‹èµ·æ¥cp -læ‹·è´çš„æ˜¯ä¸€ä¸ªç¡¬é“¾æ¥


### æ€»ç»“ 
- è¿™æ¬¡æˆ‘ä»¬ç ”ç©¶äº†ln
- lnæŒ‡çš„æ˜¯é“¾æ¥(link)
- å¯ä»¥å»ºç«‹ç¡¬é“¾æ¥ã€è½¯é“¾æ¥
- ç¡¬é“¾æ¥
	- ç›´æ¥æŒ‡å‘åŸæ¥æ–‡ä»¶æ‰€åœ¨çš„ç¡¬ç›˜ä½ç½®
	- æŒ‡å‘ç´¢å¼•èŠ‚ç‚¹(inode)
	- ç´¢å¼•èŠ‚ç‚¹è¢«å¼•ç”¨æ•°é‡+1
	- å¦‚æœæºæ–‡ä»¶è¢«åˆ é™¤
	- ç¡¬é“¾æ¥ä»ç„¶æŒ‡å‘ç´¢å¼•èŠ‚ç‚¹(inode)
- è½¯é“¾æ¥
	- æŒ‡å‘åŸæ¥çš„æ–‡ä»¶è€Œä¸æ˜¯ç´¢å¼•èŠ‚ç‚¹
	- æ‰€ä»¥å¦‚æœæºæ–‡ä»¶è¢«åˆ é™¤
	- è½¯é“¾æ¥æŒ‡å‘ç›®æ ‡æ¶ˆå¤±
	- ä¹Ÿå°±å¤±æ•ˆäº†
- cp -l æ‹·è´çš„æ˜¯ä¸€ä¸ªç¡¬é“¾æ¥
- å¦‚æœæˆ‘åªæƒ³æ‹·è´æ–‡ä»¶ä¸­çš„å†…å®¹
	- è€Œä¸å…³å¿ƒæ–‡ä»¶çš„å„ç§ä¿¡æ¯
	- æœ‰ä»€ä¹ˆå¥½æ–¹æ³•å—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹
å°±å¯ä»¥