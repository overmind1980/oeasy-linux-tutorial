---
show: step
version: 1.0
enable_checker: true
---

# è¿œç¨‹æ‹·è´scp

## å›å¿†

- ä¸Šæ¬¡æˆ‘ä»¬ä½¿ç”¨äº†scp
- è¿œç¨‹è¿›è¡Œæ–‡ä»¶æ‹·è´
- è¿˜æ˜¯æŒºæ–¹ä¾¿çš„
- æœ‰ä¸€äº›å‚æ•°
	- -P ç«¯å£
	- -r é€’å½’
	- -v è¯¦ç»†
- è¿™æ ·æ‹·è´æ–‡ä»¶çœŸçš„å¾ˆæ–¹ä¾¿
- ä½†æ˜¯æœ‰çš„æ—¶å€™æƒ³è¦æ‰§è¡Œä¸€äº›å‘½ä»¤

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220922-1663849805431)

- å´å‘Šè¯‰æˆ‘æ²¡æœ‰æƒé™
- è¿™åº”è¯¥æ€ä¹ˆè§£å†³å‘¢ï¼ŸğŸ¤”

### æ„å»ºç¯å¢ƒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221001-1664631285369)

- æˆ‘ä»¬éœ€è¦æƒ³åŠæ³•æŠŠo2zæ”¾åˆ°sudoersé‡Œé¢
- å°±åƒshiyanlouä¸€æ ·
- å…ˆè§‚å¯Ÿä¸€ä¸‹è¿™ä¸¤ä¸ªè´¦å·çš„ä¸åŒ

### ä¸åŒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221001-1664631711090)

- shiyanlou(5000)ä¹‹æ‰€ä»¥å¯ä»¥æ‰§è¡Œsudoçš„åŸå› æ˜¯
	- shiyanlou(5000)å±äºsudo(27)è¿™ä¸ªç»„
	- é‚£ä¸ºä»€ä¹ˆshiyanlou(5000)å¯ä»¥å±äºè¿™ä¸ªç»„å‘¢ï¼Ÿ

### /etc/group

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221001-1664632230396)

- shiyanlou(5000)è¿™ä¸ªç”¨æˆ·åœ¨/etc/groupä¸­å¯¹åº”3æ¡è®°å½•
	- sudo(27)ç»„
	- shiyanlou(5000)ç»„
	- public(5002)ç»„
- o2z(1000)è¿™ä¸ªç”¨æˆ·åªå¯¹åº”ä¸€æ¡è®°å½•
	- o2z(1000)ç»„
- å¦‚ä½•æŠŠo2z(1000)æ·»åŠ åˆ°sudo(27)ç»„å‘¢ï¼Ÿ

### sudo

- å…ˆæŸ¥å¸®åŠ©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664669720212)

- æŠŠo2z(1000)æ·»åŠ åˆ°sudo(27)ç»„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664669690280)

- çœŸçš„æ·»åŠ è¿›å»äº†ä¹ˆï¼Ÿ

### æŸ¥çœ‹ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664669750995)

- ç°åœ¨sudoç»„é‡Œé¢æœ‰ä¸¤ä¸ªç”¨æˆ·äº†
- å¯ä»¥ç”¨sudoè¿™ä¸ªå‘½ä»¤äº†ä¹ˆï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664669996468)

- ç¡®å®å¯ä»¥è¿è¡Œsudoäº†
- ä½†æ˜¯è¿˜éœ€è¦è¾“å…¥o2z(1000)çš„å¯†ç 
- ä¸ºä»€ä¹ˆshiyanlou(5000)å¯ä»¥ç›´æ¥è¿è¡Œsudo
	- ä¸ç”¨è¾“å…¥shiyanlou(5000)å¯†ç å‘¢ï¼Ÿ

### æœç´¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664704503019)

- æœç´¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664704520830)

- è¿™ä¸ªå¯ä»¥ç”¨ä¹ˆï¼Ÿ

### è§‚å¯Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664704686083)

- ç¡®å®æœ‰è¿™ä¹ˆä¸€ä¸ªshiyanlouæ–‡ä»¶
- ä½äº/etc/sudoers.dä¸­
- æ˜¯å¦å¯ä»¥å°†å…¶å¤åˆ¶ä¸ºo2zå‘¢ï¼Ÿ

### å¤åˆ¶å¹¶ä¿®æ”¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664704835594)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664704843888)

- ä¿®æ”¹ä¹‹åæ£€æŸ¥æ–‡ä»¶

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664704856863)

- çœŸçš„å¯ä»¥ä¸è¾“å…¥å¯†ç å—ï¼Ÿ

### ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664704955741)

- ç¡®å®å¯ä»¥ä¸ç”¨å†è¾“å…¥o2zçš„å¯†ç äº†
- ä¸è¿‡è¿™ä¸ªsudoåˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ

### çµé­‚ä¸‰é—®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664710408946)

- sudoçš„ç”¨æˆ·æ‰§è¡Œæƒé™ä¸ºs
- ä¹Ÿå°±æ˜¯è®©æ‰§è¡Œè€…æ‹¥æœ‰rootæƒé™
- é‚£ä»€ä¹ˆæ˜¯rootæƒé™å‘¢ï¼Ÿ

### root

- rootæƒé™æŒ‡çš„æ˜¯rootç”¨æˆ·çš„æƒé™

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664713848044)

- rootç”¨æˆ·çš„ç¼–å·æ˜¯0
- æ˜¯æœ€é«˜çº§çš„æƒé™æ‹¥æœ‰è€…

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664714486001)

- è¿˜æœ‰ä»€ä¹ˆæ–‡ä»¶ä¹Ÿæ˜¯è¿™ä¸ªsæƒé™å—ï¼Ÿ

### åˆ—è¡¨

- ll /usr/bin

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664712558718)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664712567838)

- éœ€è¦sudoæƒé™æ‰§è¡Œçš„å¤§å¤šéƒ½æ˜¯sæƒé™

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664712865622)

- è¿˜æœ‰ä¸€äº›æ£•è‰²çš„æ–‡ä»¶è¿™äº›æ–‡ä»¶å¦‚ä½•ç†è§£ï¼Ÿ
- å…ˆå»æ€»ç»“ä¸€ä¸‹


### æ€»ç»“ ğŸ¤¨
- æˆ‘ä»¬è¿™æ¬¡ç ”ç©¶äº†å¦‚ä½•è®©ç”¨æˆ·å¯ä»¥ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œç¨‹åº
	- å°†ç”¨æˆ·åŠ å…¥sudo(27)è¿™ä¸ªç»„é‡Œé¢å°±å¯ä»¥
- å¦‚ä½•é¿å…æ¯æ¬¡éƒ½è¦è¾“å…¥å¯†ç å‘¢ï¼Ÿ
	- åœ¨/etc/sudoers.dé‡Œé¢æ·»åŠ ç”¨æˆ·åå¯¹åº”çš„æ–‡ä»¶
	- è®¾ç½®æ­¤ç”¨æˆ·ä¸ç”¨è¾“å…¥å¯†ç å°±å¯ä»¥æ‰§è¡Œsudoå‘½ä»¤

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664704856863)

- ä¸ºä»€ä¹ˆsudoæ‹¥æœ‰è¶…çº§ç®¡ç†å‘˜çš„æƒé™å‘¢ï¼Ÿ
	- å› ä¸ºsudoçš„æƒé™æ˜¯s
	- ä»£è¡¨sudoä¼šä»¥rootçš„æƒé™è¿è¡Œ
	- ä»è§†è§‰ä¸Šçœ‹åˆ°æ˜¯çº¢è‰²çš„
	- è¿˜æœ‰ä¸€äº›ç¨‹åº(wall)æ˜¯é»„è‰²çš„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664712865622)

- è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹