---
show: step
version: 1.0
enable_checker: true
---

# ä¿®æ”¹è¡¨ç»“æ„

### å›å¿†

- ä¸Šæ¬¡ç ”ç©¶äº†ä¸é‡å¯tomcatæœåŠ¡å™¨
	- è‡ªåŠ¨åŠ è½½æ–°ç¼–è¯‘çš„classçš„æ–¹å¼
	- è¿™ç§æ–¹å¼å«åšçƒ­åŠ è½½
		- ä¸»è¦å°±æ˜¯åœ¨ç”¨æˆ·çš„webappæ ¹ä¸‹
		- æ·»åŠ META-INFæ–‡ä»¶å¤¹
		- ç„¶ååœ¨é‡Œé¢æ·»åŠ context.xml
			- è®¾ç½®æœ¬webappä¸ºæ”¯æŒhot-reloadçƒ­åŠ è½½çš„
- é™¤äº†æŸ¥è¯¢æ•°æ®ä¹‹å¤–
- åº”è¯¥è¿˜æœ‰å¢åˆ æ”¹
- éƒ½å¯ä»¥åšä¹ˆï¼ŸğŸ¤”
- å…¶å®æˆ‘ä»¬å…ˆå›å¿†ä¸€ä¸‹è¿™ä¸ªè¡¨æ€ä¹ˆæ¥çš„ï¼Ÿ

### è¡¨çš„æ¥å†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211125-1637807517794)

- è¿™ä¸ªè¡¨å°±ä¸¤ä¸ªå­—æ®µ
	- æ¯”è¾ƒç®€å•
- æˆ‘æƒ³è¦ä¸€ä¸ªå¯ä»¥è‡ªå¢çš„æ•°å­—å­—æ®µidä¸»é”®
	- å¯èƒ½ä¹ˆï¼Ÿ
- æˆ‘ä»¬å½“ç„¶å¯ä»¥æ–°å»ºä¸€ä¸ªè¡¨æ ¼
- å¹¶ä¸”æŠŠæ•°æ®å¯¼è¿›å»
- ä½†æ˜¯æˆ‘å°±æƒ³åœ¨å½“å‰çš„è¡¨æ ¼ä¸Šæ”¹
- æ€ä¹ˆåŠå‘¢?

### å»é™¤åŸä¸»é”®

```
alter table urls drop constraint urls_pkey;
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211125-1637808005093)

- ä½†æ˜¯å¦‚ä½•æ·»åŠ ä¸€åˆ—å‘¢ï¼Ÿ

### æ·»åŠ ä¸€åˆ—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211125-1637808609768)

```
alter table urls add column id serial not null;
```

- åˆ—æ˜¯æ·»åŠ äº†
- ä½†æ˜¯å¦‚ä½•æ‰èƒ½ç¡®ä¿ä»–æ˜¯ä¸»é”®ï¼Ÿ

### æ·»åŠ ä¸»é”®çº¦æŸ

```
alter table urls add constraint urls_pkey primary key(id);
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211125-1637809084794)

- è¿™ä¸‹å¯ä»¥æ’å…¥æ•°æ®äº†å§
- åˆ«ç€æ€¥
- æˆ‘è§‰å¾—è¿™ä¸ªurlsåˆ—æœ‰ç‚¹å®¹é‡ä¸è¶³
- æˆ‘æ¥ä¿®æ”¹ä¸€ä¸‹

### ä¿®æ”¹åˆ—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211125-1637809534595)

```
alter table urls alter url type varchar(100);
```

- æˆ‘è¿˜æƒ³è®©topicä¸èƒ½æœ‰é‡å¤çš„

### æ·»åŠ å”¯ä¸€æ€§çº¦æŸunique

```
alter table urls add constraint url_unique unique(url);
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211125-1637809807364)

### æ·»åŠ éç©ºçº¦æŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211125-1637810612324)

```
alter table table_name alter column column_name set not null;
```

- å¦‚æœæˆ‘æƒ³è¦ä¿®æ”¹åˆ—ååº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ

### ä¿®æ”¹åˆ—å

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211128-1638095764884)

```
alter table table_name rename column_origin_name to column_dest_name;
```

- æ„Ÿè§‰ä¸€èŠ‚è¯¾è¿‡å»äº†
- æˆ‘ä»¬å…ˆæ€»ç»“ä¸€ä¸‹

### æ€»ç»“
- æˆ‘ä»¬è¿™æ¬¡ç ”ç©¶äº†è¡¨çš„ä¿®æ”¹
	- å¯ä»¥æ·»åŠ åˆ é™¤åˆ—
		- alter table table_name add column_name datatype;
		- alter table table_name drop column_name datatype;
	- ä¿®æ”¹åˆ—
		- alter table table_name alter column column_name type datatype;
		- alter table table_name alter column column_name set not null;
		- alter table table_name add constraint unique_name(column_name1,column_name2);
	- æ·»åŠ ä¿®æ”¹ä¸»é”®çº¦æŸ
		- alter table drop constraint primary_key_name;
		- alter table add constraint primary_key_name primary key(column_name1,column_name2);
	- ä¿®æ”¹åˆ—å
		- alter table table_name rename column_origin_name to column_dest_name;
- ä¸è¿‡åˆ°ç°åœ¨è¿˜æ˜¯æ²¡æœ‰æ’å…¥æ•°æ®å•Š
- å¦‚ä½•æ’å…¥æ•°æ®å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹

