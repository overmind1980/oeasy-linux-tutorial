---
show: step
version: 1.0
enable_checker: true
---

# åˆ†å±å·¥å…·tmux

## æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ ğŸ˜Œ
- ä¸Šæ¬¡ä¸‹è½½äº†ä¸­ ğŸ€„ï¸ æ–‡è°šè¯­
- è¾“å‡ºé‡å®šå‘äº†ä¸­æ–‡è°šè¯­
- ç†è§£è¯å…¸å’Œé¢œè‰²
- æˆ‘ä»¬è¿™æ¬¡æƒ³è¦åˆ†å±ï¼ğŸ¤”

### tmux

- é¦–å…ˆä¸‹è½½tmux
- è¿›å…¥tmux
- é€€å‡ºtmux
	- exit

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632741113713)

- è¿™ç§é€€å‡ºæ˜¯çœŸçš„é€€å‡º
- é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç§é€€å‡º

### session
- tmux detach
	- å¿«æ·é”®æ˜¯<kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>d</kbd>
	- å°±æ˜¯å’Œå½“å‰sessionåˆ†ç¦»
	- ä½†æ˜¯ä¸æ˜¯exit
- å›åˆ°ä¸€èˆ¬ç»ˆç«¯å
	- å¯ä»¥ç”¨tmux attach -t 0 
	- ç»§ç»­è¿™ä¸ªsession

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632741556290)

### æ–°å»ºsession
- åœ¨detachå›åˆ°ä¸€èˆ¬çŠ¶æ€å
- å¯ä»¥æ–°å»ºä¸€ä¸ªsession
	- tmux new -s oeasy
	- å»ºç«‹ä¸€ä¸ªæ–°çš„sessionåå­—å«åšoeasy
- è¿™æ—¶å°±æœ‰äº†ä¸¤ä¸ªsession

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632741758727)

- å¯ä»¥åˆ‡æ¢session

### åˆ‡æ¢session

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632741758727)

- tmux switch -t 0
	- åˆ‡æ¢åˆ°åå­—æ˜¯0çš„session
	- å½“å‰sessionåé¢ä¼šæœ‰attached

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632741871920)

- tmux switch -t oeasy
	- åˆ‡æ¢åˆ°åå­—æ˜¯oeasyçš„session

- åå¤æ¨ªè·³
- å¦‚ä½•åˆ—å‡ºæ‰€æœ‰session

### sessionåˆ—è¡¨
- tmux ls å¯ä»¥åˆ—å‡ºæ‰€æœ‰session

- tmux switch -t session_name 
	- å¯ä»¥åˆ‡æ¢session
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>s</kbd>ä¹Ÿå¯ä»¥åˆ—å‡ºæ‰€æœ‰session

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632745999754)

- ç„¶åé€šè¿‡æ–¹å‘é”®å’Œå›è½¦æ¥åˆ‡æ¢session
- sessionå¯ä»¥åˆ é™¤ä¹ˆï¼Ÿ

### åˆ é™¤session

- qé€€å‡ºsessionåˆ—è¡¨å›åˆ°å‘½ä»¤è¡Œ
- tmux kill-session -t session_name

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632746153804)

- å…ˆåˆ é™¤åä¸º0çš„session
- å†åˆ é™¤åä¸ºoeasyçš„session
- ç°åœ¨ä»æ–°å»ºç«‹session

### sessionæ”¹å

- æ–°å»ºsession
- ç„¶å<kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>d</kbd>
- detaché€€å›æ¥
- é‡å¤ä¸‰æ¬¡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632746329765)

- session attach -t o2z
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>$</kbd> 
- æŠŠå½“å‰çš„sessionæ”¹åä¸ºtomcat

### åˆ‡æ¢å¹¶æ”¹å

- åˆ‡æ¢
	- session switch -t o3z
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>$</kbd>
- æŠŠo3zæ”¹åä¸ºpostgres

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632746618399)

- ç°åœ¨æ€»å…±ä¸‰ä¸ªsession
	- oeasy
	- postgres
	- tomcat
- æ¯ä¸ªsessionåé¢æœ‰ä¸ª1windowsæ˜¯ä»€ä¹ˆæ„æ€?

### windows çª—å£

- tmux new-window
	- å¯ä»¥åœ¨å½“å‰sessionä¸­æ·»åŠ window

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632746925251)

- å¯ä»¥çœ‹åˆ°ä¸­é—´åä¸ºpostgresçš„sessionæœ‰äº†ä¸¤ä¸ªwindow
- ç”¨æ–¹å‘é”®ç§»åŠ¨ä¸Šå»
- ç„¶åæŒ‰ä¸‹æ–¹å‘é”®å³é”®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632746987488)

- å¯ä»¥çœ‹åˆ°è¿™ä¸¤ä¸ªwindows
- è¿™ä¸¤ä¸ªwindowå¯ä»¥ä¸ä¸€æ ·ä¹ˆï¼Ÿ



### åˆ‡æ¢windows

- ç”¨<kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>s</kbd>å’Œæ–¹å‘é”®åˆ‡æ¢åˆ°postgresä¸­ä¸Šé¢çš„window
- è¿è¡Œlsä¹‹ç±»çš„å‘½ä»¤
- ç„¶åå†åˆ‡æ¢åˆ°å¦ä¸€ä¸ªwindow
- æ²¡æœ‰lsä¹‹ç±»çš„å‘½ä»¤çš„æ‰§è¡Œ
- åˆ‡æ¢å›ä¹‹å‰çš„window
- lså‘½ä»¤æ‰§è¡Œçš„ç»“æœè¿˜åœ¨
- å¦‚ä½•å¿«é€Ÿåœ°åœ¨æœ¬sessionçš„windowé—´è¿›è¡Œåˆ‡æ¢å‘¢ï¼Ÿ
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>w</kbd>åˆ—å‡ºå½“å‰sessionæ‰€æœ‰window

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632747477161)

- ç„¶åç”¨æ–¹å‘é”®é€‰æ‹©
- å›è½¦é”®ç¡®è®¤
- tmux select-window -t <window-number>
- ä¹Ÿå¯ä»¥ç¡®è®¤



### windowç›¸å…³å¿«æ·é”®

- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>c</kbd>
	- åˆ›å»ºä¸€ä¸ªæ–°çª—å£
	- çŠ¶æ€æ ä¼šæ˜¾ç¤ºå¤šä¸ªçª—å£çš„ä¿¡æ¯

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632747599174)

- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>p</kbd>
	- åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªçª—å£ï¼ˆæŒ‰ç…§çŠ¶æ€æ ä¸Šçš„é¡ºåºï¼‰
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>n</kbd>
	- åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—å£
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>æ•°å­—</kbd>
	- åˆ‡æ¢åˆ°æŒ‡å®šç¼–å·çš„çª—å£
	- å…¶ä¸­çš„<number>æ˜¯çŠ¶æ€æ ä¸Šçš„çª—å£ç¼–å·
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>w</kbd>
	- ä»åˆ—è¡¨ä¸­é€‰æ‹©çª—å£
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>,</kbd>
	- çª—å£é‡å‘½å
- tmuxä¹‹åï¼Œçª—å£å†…çš„ä¸œè¥¿å°±ä¸èƒ½å‘ä¸Šç¿»ç€çœ‹äº†
- æ€ä¹ˆåŠï¼Ÿ

### å‘ä¸Šç¿»é¡µ
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>[</kbd>
- å¯ä»¥è¿›å…¥ç¿»é¡µæ¨¡å¼
- å·¦ä¸Šè§’æœ‰æ ‡è®°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210929-1632865488365)

- ç”¨æ–¹å‘é”®å°±å¯ä»¥å¾€ä¸Šç¿»äº†
- é¼ æ ‡ä¹Ÿå¯ä»¥
- ç»“æŸç¿»é¡µçŠ¶æ€æŒ‰q
- çª—å£å¯ä»¥åˆ é™¤ä¹ˆï¼Ÿ

### åˆ é™¤çª—å£

- åˆ é™¤çª—å£åº”è¯¥å’Œåˆ é™¤sessionä¸€æ ·
- ä¹Ÿæ˜¯kill 
- è¯•è¯•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632748022383)

- åˆ é™¤sessionå’Œwindowçš„æ–¹å¼éƒ½æ˜¯kill
- é‚£sessionå’Œwindowçš„æ”¹åæ–¹å¼éƒ½æ˜¯renameä¹ˆï¼Ÿ

### çª—å£æ”¹å

- è¯•è¯•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632748030343)

- å½“å‰çš„çª—å£ç”¨å‘½ä»¤æ²¡æ³•æ”¹å
- ä½†æ˜¯å¯ä»¥<kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>c</kbd>æ–°å»ºçª—å£
- ç„¶åå†æ”¹å‰é¢çª—å£çš„åå­—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632748406379)

- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>,</kbd>
	- å¯ä»¥ä¿®æ”¹å½“å‰çª—å£çš„åå­—
- æ—¢ç„¶æœ‰äº†sessionä¸ºä»€ä¹ˆåˆè¦æœ‰windowå‘¢ï¼Ÿ
- è¿™ä¸æ˜¯é‡å¤äº†ä¹ˆï¼Ÿ

### sessionå’Œwindowä¹‹é—´çš„åŒºåˆ«

- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>s</kbd>
- å¯ä»¥åˆ—å‡ºå½“å‰çš„ç”¨æˆ·çš„æ‰€æœ‰session
- è¿˜å¯ä»¥å±•å¼€
- æˆ‘ä»¬æœ‰çš„æ—¶å€™éœ€è¦è¿å¥½å‡ ä¸ªæœåŠ¡å™¨
	- oeasy.org
	- o2z.org
- è¿™å°±éœ€è¦ä¸¤ä¸ªsessionså—ï¼Ÿ
- å…¶å®ä¸ç”¨æˆ‘ä»¬åªè¦åŒä¸€ä¸ªsessionä¸­å¼€ä¸¤ä¸ªwindow
- ç„¶ååˆ†åˆ«sshåˆ°æŒ‡å®šçš„æœåŠ¡å™¨å°±å¯ä»¥äº†
- åŒä¸€ä¸ªæœåŠ¡å™¨ä¹Ÿå¯ä»¥å¼€ä¸åŒçš„window
- ä¸Šé¢è¿›è¡Œä¸åŒçš„æ“ä½œ
	- postgresql
	- python
	- tomcat
	- minecraft server
- é‚£ä¸ºä»€ä¹ˆæœ‰sessionå‘¢ï¼Ÿ
- sessionæˆ‘ç†è§£å°±æ˜¯å·¥ä½œåŒº workspace
	- å¯ä»¥æŠŠå·¥ä½œçš„ç¯å¢ƒä¿ç•™ä¸‹æ¥
	- è¿™ä¸€ä¸ªsessionæ˜¯å¹²è¿™å¥—æ´»çš„
	- é‚£ä¸€ä¸ªsessionæ˜¯å¹²é‚£å¥—æ´»çš„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210929-1632865111649)

- windowä¹‹ä¸‹è¿˜æœ‰å¯ä»¥åˆ†çš„ä¹ˆï¼Ÿ

### paneçª—æ ¼

- tmux split-window ä¸Šä¸‹åˆ†å¼€
- tmux split-window -h å·¦å³åˆ†å¼€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632748849379)

- ä½¿ç”¨å¿«æ·é”®çš„æ–¹å¼
	- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>"</kbd>  ä¸Šä¸‹åˆ†å¼€
	- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>%</kbd>  å·¦å³åˆ†å¼€
- çª—æ ¼ä¹‹é—´å¦‚ä½•åˆ‡æ¢å‘¢ï¼Ÿ

### çª—æ ¼åˆ‡æ¢å’Œå…³é—­

- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>æ–¹å‘é”®</kbd>  åˆ‡æ¢çª—æ ¼
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>x</kbd>  å…³é—­çª—æ ¼
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>!</kbd>  æŠŠå½“å‰çª—æ ¼æ‹†å‡ºæ¥æˆä¸ºç‹¬ç«‹window
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>z</kbd>  å½“å‰çª—æ ¼å…¨å±ï¼Œå†ä¸€æ¬¡è¿˜åŸ
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>q</kbd>  åˆ—å‡ºçª—æ ¼paneæ ‡å·

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210927-1632749332619)

### çª—æ ¼å¤§å°æ§åˆ¶

- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>ctrl</kbd>+<kbd>æ–¹å‘é”®</kbd>
	- ç§»åŠ¨å½“å‰çª—æ ¼paneè¾¹ç•Œ
- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>alt</kbd>+<kbd>æ–¹å‘é”®</kbd>
	- ä»¥5ä¸ºå•ä½ç§»åŠ¨å½“å‰çª—æ ¼paneè¾¹ç•Œ

### å…¶ä»–å¥½ç©çš„

- åˆ—å‡ºæ‰€æœ‰å¿«æ·é”®ï¼ŒåŠå…¶å¯¹åº”çš„ Tmux å‘½ä»¤
	- tmux list-keys

- åˆ—å‡ºæ‰€æœ‰ Tmux å‘½ä»¤åŠå…¶å‚æ•°
	- tmux list-commands

- åˆ—å‡ºå½“å‰æ‰€æœ‰ Tmux ä¼šè¯çš„ä¿¡æ¯
	- tmux info

- é‡æ–°åŠ è½½å½“å‰çš„ Tmux é…ç½®
	- tmux source-file ~/.tmux.conf

### æ€»ç»“ ğŸ¤¨
- æˆ‘ä»¬è¿™æ¬¡ä½¿ç”¨äº†tmux
- tmuxè¿æ¥ä¸åŒæœåŠ¡å™¨å¯ä»¥æœ‰ä¸åŒçš„session
- åŒä¸€ä¸ªsessioné‡Œé¢å¯ä»¥æœ‰å¤šä¸ªçª—å£window
- åŒä¸€ä¸ªwindowé‡Œé¢å¯ä»¥æœ‰å¤šä¸ªçª—æ ¼pane
- å¦‚æœåªè¿ä¸€ä¸ªæœåŠ¡å™¨
- æ²¡æœ‰å¿…è¦ç”¨session
- åªç”¨æ–°å»ºå’Œåˆ‡åˆ†windowå°±å¤Ÿç”¨äº†
	- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>c</kbd>æ–°å»ºçª—å£
	- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>%</kbd>æ‹†åˆ†çª—æ ¼pane
	- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>æ–¹å‘é”®</kbd>é€‰æ‹©çª—æ ¼pane
	- <kbd>ctrl</kbd>+<kbd>b</kbd> <kbd>x</kbd> å…³é—­çª—æ ¼pane
- è¿˜æœ‰ä»€ä¹ˆå¥½ç©çš„ä¹ˆï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹


