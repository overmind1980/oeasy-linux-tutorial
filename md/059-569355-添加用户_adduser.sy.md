---
show: step
version: 1.0
enable_checker: true
---

# é˜´å†(lunar)

## å›å¿†

- ä¸Šæ¬¡æˆ‘ä»¬ç ”ç©¶äº†ä¸€ä¸ªæ–°çš„å‘½ä»¤id
- å¯ä»¥æ˜¾ç¤ºå‡ºç”¨æˆ·idçš„ä¸€äº›ä¿¡æ¯
- æˆ‘ä»¬ç›®å‰çš„ç”¨æˆ·idå°±æ˜¯shiyanlou

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220917-1663418898698)

- /etc/passwdä¸­æœ‰æ›´è¯¦ç»†çš„ç”¨æˆ·ä¿¡æ¯

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220917-1663422514779)
- è¿™äº›ä¿¡æ¯è¢«:åˆ†å‰²ä¸º7åˆ—
- æˆ‘å¯ä»¥è‡ªå·±åˆ›é€ ä¸€ä¸ªç”¨æˆ·idå—?

### æŸ¥è¯¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663745062373)

- å¥½åƒæœ‰ä¸¤ä¸ªå‘½ä»¤
	- adduser
	- useradd

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663745088679)

- è¿™å¦‚ä½•å–èˆï¼Ÿ

### æŸ¥çœ‹æ–‡ä»¶

- man adduser

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663746584697)

- adduser å’Œ addgroupæ˜¯ å‹å¥½çš„å‰ç«¯
- ä»–ä»¬è°ƒç”¨çš„æ˜¯useraddã€groupaddã€usermod
- useraddæ˜¯ä»€ä¹ˆæ–‡ä»¶å‘¢ï¼Ÿ

### useradd

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663749987720)

- adduseræ¥è‡ªäº passwd è¿™ä¸ªåŒ…
- è¿™ä¸ªåŒ…é‡Œé¢éƒ½æœ‰ä»€ä¹ˆå‘¢ï¼Ÿ
- å…ˆæ”¹æºåœ°å€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663750124890)

- å†æ›´æ–°

### ä¸‹è½½æºä»£ç 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663750231551)

- ç¡®å®å¯ä»¥ä¸‹è½½åˆ°adduserçš„æºä»£ç 
- æ‰“å¼€çœ‹çœ‹

### useradd.c

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663750302153)

- å†ç»4ä»£
- 2000+è¡Œçš„cä»£ç 
- è¿™å°±æ˜¯ä¼ æ‰¿å—ï¼Ÿ
- useraddçœ‹èµ·æ¥æ˜¯æ¯”è¾ƒåº•å±‚çš„
- é‚£ä¹ˆadduseråº”è¯¥æ›´å®¹æ˜“ä½¿ç”¨
- ä¸è¿‡adduseræ˜¯æ€ä¹ˆè°ƒç”¨useraddçš„å‘¢ï¼Ÿ

### è§‚å¯Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663746752877)

- å®šä½adduser
- ç„¶åæ‰“å¼€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663746771209)

- åŸæ¥ä½¿ç”¨çš„æ˜¯perlè„šæœ¬è°ƒç”¨çš„useradd
- å…·ä½“æ¥è¯´æ€ä¹ˆç”¨å‘¢ï¼Ÿ

### æŸ¥çœ‹å¸®åŠ©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663746905394)

- è¿™å°±å»æ–°å»ºç”¨æˆ·oeasy

### æ–°å»ºç”¨æˆ·

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663747243180)

- adduser
	- ç›´æ¥å»ºç«‹äº†ç”¨æˆ·
	- ç”¨æˆ·çš„ä¸»ç›®å½•
	- è¿˜ç”¨äº¤äº’çš„æ–¹å¼æ·»åŠ äº†ä¿¡æ¯

- useradd 
	- ä½œä¸ºè¢«è°ƒç”¨çš„åç«¯ç¨‹åº
	- æ²¡æœ‰è¿™ä¹ˆå‹å¥½çš„ç•Œé¢
- é‚£å¯ä»¥ç”¨æ–°ç”¨æˆ·ç™»å½•å—ï¼Ÿ

### ç™»å½•

```
su oeasy
```

- ç”¨oeasyç”¨æˆ·åè¿›è¡Œç™»å½•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663747888849)

- çœŸçš„ç™»å½•ä¸Šå»äº†ï¼ï¼!
- å¯ä»¥æŸ¥çœ‹oeasyçš„å…·ä½“ä¿¡æ¯å—ï¼Ÿ

### æŸ¥çœ‹ä¿¡æ¯

```
cat /etc/passwd
```

- æŸ¥çœ‹ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663748301933)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663748313277)

- ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„uidæ˜¯100å‘¢ï¼Ÿ

### uid èŒƒå›´

- uidæ˜¯æœ‰èŒƒå›´çš„

| ç”¨æˆ·uid |	çº¦å®šå«ä¹‰ |
|  ----  | ----  |
| 0	è¶…çº§ç®¡ç†å‘˜ | æœ€é«˜æƒé™ | 
| 1~200	ç³»ç»Ÿç”¨æˆ· | ç”¨æ¥è¿è¡Œç³»ç»Ÿè‡ªå¸¦çš„è¿›ç¨‹ï¼Œé»˜è®¤å·²åˆ›å»º | 
| 201~999	ç³»ç»Ÿç”¨æˆ· | ç”¨æ¥è¿è¡Œç”¨æˆ·å®‰è£…çš„ç¨‹åºï¼Œè¿™ç±»ç”¨æˆ·æ— éœ€ç™»å½•ç³»ç»Ÿ | 
| 1000ä»¥ä¸Š	æ™®é€šç”¨æˆ· | æ­£å¸¸å¯ä»¥ç™»é™†ç³»ç»Ÿçš„ç”¨æˆ·ï¼Œæƒé™æ¯”è¾ƒå°ï¼Œæ‰§è¡Œçš„ä»»åŠ¡æœ‰é™ | 

- æ™®é€šç”¨æˆ·æ˜¯ä»1000å¼€å§‹çš„
	- é‚£ä¹ˆæ–°å»ºçš„è¿™ä¸ªoeasyå°±ä»ç¬¬ä¸€ä¸ªå¯ç”¨çš„uid(1000)å¼€å§‹
	- é™¤éä½¿ç”¨äº†--uid å‚æ•°
- é‚£æˆ‘å¯ä»¥æ–°å»ºä¸ªç³»ç»Ÿç”¨æˆ·ä¹ˆï¼Ÿ

### æ·»åŠ ç³»ç»Ÿç”¨æˆ·

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663748987465)

- å·²ç»ç”¨è¿‡çš„ç”¨æˆ·åoeasyä¸èƒ½æˆä¸ºç³»ç»Ÿç”¨æˆ·å
- æ€ä¹ˆåŠå‘¢ï¼Ÿ

### åˆ é™¤ç”¨æˆ·

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221002-1664715898293)

- åˆ é™¤äº†ç”¨æˆ·å°±å¯ä»¥é‡æ–°æ–°å»ºç”¨æˆ·äº†
- ä¹Ÿå¯ä»¥ç”¨æ–°ç”¨æˆ·åo2zå¯ä»¥æˆä¸ºç³»ç»Ÿç”¨æˆ·å
- ä»å¯ä»¥ç”¨çš„uidä¸­æ‰¾åˆ°æœ€å°çš„121ç»™o2zä½œä¸ºid
- ç³»ç»Ÿç”¨æˆ·çš„æ·»åŠ æ²¡æœ‰å¤ªå¤šçš„äº¤äº’

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220921-1663749080679)

- è¿™ä¸ªä¸èƒ½ç™»é™†è¿™ä¸ªæ€ä¹ˆåŠï¼Ÿ
- å…ˆå»æ€»ç»“ä¸€ä¸‹

### æ€»ç»“ 

- æœ‰ä¸¤ä¸ªå‘½ä»¤å¯ä»¥æ·»åŠ ç”¨æˆ·
	- adduser
	- useradd
- useradd
	- å¾ˆåº•å±‚
	- å¯ä»¥æ‰¾åˆ°æºä»£ç 
- adduser
	- æ›´å‰ç«¯ä¸€äº›
	- æ›´äº¤äº’ä¸€äº›
	- å¯ä»¥ç›´æ¥æ–°å»ºç”¨æˆ·
- ä½†æ˜¯æ–°å»ºçš„ç”¨æˆ·ä¸èƒ½ç™»å½•è¿™ä¸ªå¯æ€ä¹ˆåŠ?ğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹